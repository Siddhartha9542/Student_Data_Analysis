<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velvet Sunset Auth</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');

        :root {
            --bg-dark: #0f172a; 
            --glass-bg: rgba(255, 255, 255, 0.07); 
            --glass-border: rgba(255, 255, 255, 0.1);
            --neon-blue: #00f2ff; 
            --gradient-btn: linear-gradient(135deg, #00c6ff, #0072ff); 
            --text-white: #ffffff;
        }

        * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
            height: 100vh; display: flex; justify-content: center; align-items: center; margin: 0; color: var(--text-white);
        }

        /* --- GLASS CONTAINER --- */
        .container {
            background-color: var(--glass-bg); 
            backdrop-filter: blur(15px); 
            border: 1px solid var(--glass-border);
            border-radius: 20px; 
            width: 900px; max-width: 100%; min-height: 650px; 
            position: relative; overflow: hidden;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* --- FORM STYLES --- */
        .form-container {
            position: absolute; top: 0; height: 100%; transition: all 0.6s ease-in-out;
            padding: 0 40px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }

        .sign-in-container { left: 0; width: 50%; z-index: 2; }
        .sign-up-container { left: 0; width: 50%; opacity: 0; z-index: 1; }

        h1 { font-weight: 600; margin-bottom: 20px; }
        
        .input-group { width: 100%; margin: 8px 0; }
        
        input { 
            background: transparent; border: 1px solid rgba(255,255,255,0.2); 
            padding: 12px 15px; width: 100%; color: white; border-radius: 8px; outline: none; 
        }
        input:focus { border-color: var(--neon-blue); }
        
        button.btn-primary { 
            border-radius: 25px; background: var(--gradient-btn); color: white; 
            border: none; padding: 12px 45px; text-transform: uppercase; 
            margin-top: 15px; cursor: pointer; font-weight: 600; width: 100%;
        }

        /* --- SLIDER OVERLAY --- */
        .overlay-container { 
            position: absolute; top: 0; left: 50%; width: 50%; height: 100%; 
            overflow: hidden; transition: transform 0.6s ease-in-out; z-index: 100; 
        }
        .overlay { 
            background: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%); 
            position: relative; left: -100%; height: 100%; width: 200%; 
            transform: translateX(0); transition: transform 0.6s ease-in-out; 
        }
        .overlay-panel { 
            position: absolute; display: flex; align-items: center; justify-content: center; 
            flex-direction: column; padding: 0 40px; text-align: center; top: 0; 
            height: 100%; width: 50%; transform: translateX(0); transition: transform 0.6s ease-in-out; 
        }
        .overlay-left { transform: translateX(-20%); }
        .overlay-right { right: 0; transform: translateX(0); }
        
        button.ghost { 
            background-color: transparent; border: 1px solid white; 
            padding: 12px 45px; border-radius: 25px; color: white; 
            font-weight: bold; cursor: pointer; text-transform: uppercase; 
        }

        /* Animation States */
        .container.right-panel-active .overlay-container { transform: translateX(-100%); }
        .container.right-panel-active .overlay { transform: translateX(50%); }
        .container.right-panel-active .sign-up-container { transform: translateX(100%); opacity: 1; z-index: 5; }
        .container.right-panel-active .sign-in-container { transform: translateX(100%); opacity: 0; }

        /* --- MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            .container { 
                width: 100%; border: none; background: transparent; 
                box-shadow: none; min-height: 100vh; 
            }
            .overlay-container { display: none; }
            .form-container { 
                width: 100%; max-width: 400px; display: none; 
                background: rgba(255,255,255,0.07); backdrop-filter: blur(15px); 
                border-radius: 20px; position: relative; height: auto; padding: 40px; 
                border: 1px solid rgba(255,255,255,0.1);
            }
            
            /* --- FIX FOR INVISIBLE FORM --- */
            .sign-in-container.mobile-active, 
            .sign-up-container.mobile-active { 
                display: flex; 
                opacity: 1 !important; /* This forces the form to be visible */
                z-index: 10;
            }
            
            .mobile-toggle { margin-top: 20px; font-size: 13px; color: #ccc; cursor: pointer; }
            .mobile-toggle b { color: var(--neon-blue); }
        }

        /* --- FORGOT PASSWORD MODAL --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
            z-index: 1000; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #1e293b; border: 1px solid rgba(255,255,255,0.1);
            padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5); position: relative;
        }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 20px; cursor: pointer; color: #aaa; }
    </style>
</head>
<body>

<div class="container" id="container">
    
    <div class="form-container sign-up-container" id="signUpForm">
        <form onsubmit="window.handleSignup(event)">
            <h1>Create Account</h1>
            
            <div class="input-group">
                <input type="text" id="regName" placeholder="Full Name" required />
            </div>
            
            <div class="input-group">
                <input type="email" id="regEmail" placeholder="Email (for Recovery)" required />
            </div>

            <div class="input-group">
                <input type="text" id="regPin" placeholder="PIN (e.g. 23007-CS-056)" required />
            </div>

            <div class="input-group">
                <input type="tel" id="regPhone" placeholder="+91 Phone" required />
            </div>

            <div class="input-group">
                <input type="password" id="regPass" placeholder="Create Password" required />
            </div>
            
            <button class="btn-primary">Sign Up</button>

            <div class="mobile-toggle" onclick="window.switchToLogin()">
                Already have an account? <b>Sign In</b>
            </div>
        </form>
    </div>
    <div class="form-container sign-in-container mobile-active" id="signInForm">
        <form onsubmit="window.handleLogin(event)">
            <h1>Welcome back</h1>
            <span style="display:block; margin-bottom:15px; color:#aaa; font-size:12px;">Login with your PIN</span>
            
            <div class="input-group">
                <input type="text" id="loginUser" placeholder="Enter PIN (e.g. 23007...)" required />
            </div>
            
            <div class="input-group">
                <input type="password" id="loginPass" placeholder="Password" required />
            </div>
            
            <div style="font-size:12px; margin:15px 0; cursor:pointer; color:var(--neon-blue); text-align:right; width:100%;" onclick="window.openForgotModal()">
                Forgot your password?
            </div>
            
            <button class="btn-primary">Sign In</button>

            <a href="admin-login.html" style="margin-top: 20px; color: #666; font-size: 12px; text-decoration: none;">
                <i class="fa-solid fa-lock"></i> Admin Login
            </a>

            <div class="mobile-toggle" onclick="window.switchToSignup()">
                Don't have an account? <b>Sign Up</b>
            </div>
        </form>
    </div>


    <div class="overlay-container">
        <div class="overlay">
            <div class="overlay-panel overlay-left">
                <h1>Welcome Back!</h1>
                <p>To keep connected with us please login with your personal info</p>
                <button class="ghost" id="signInBtn">Sign In</button>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>Hello, Friend!</h1>
                <p>Enter your personal details and start your journey with us</p>
                <button class="ghost" id="signUpBtn">Sign Up</button>
            </div>
        </div>
    </div>
    
</div>

<div id="forgotModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="window.closeForgotModal()">&times;</span>
        <h2 style="margin-bottom:20px; color:white;">Reset Password</h2>
        
        <div id="step1">
            <input type="text" id="fpPin" placeholder="Enter your PIN" style="margin-bottom:10px;" />
            <input type="email" id="fpEmail" placeholder="Enter registered Email" style="margin-bottom:10px;" />
            <button class="btn-primary" id="btnSendOtp" onclick="window.sendResetOtp()">Get OTP</button>
        </div>

        <div id="step2" style="display:none;">
            <input type="text" id="fpOtp" placeholder="Enter OTP from Email" style="margin-bottom:10px;" />
            <input type="password" id="fpNewPass" placeholder="New Password" style="margin-bottom:10px;" />
            <button class="btn-primary" onclick="window.verifyAndReset()">Update Password</button>
        </div>
    </div>
</div>

<script type="module" src="script.js"></script>

<script>
    const signUpBtn = document.getElementById('signUpBtn');
    const signInBtn = document.getElementById('signInBtn');
    const container = document.getElementById('container');
    const signUpForm = document.getElementById('signUpForm');
    const signInForm = document.getElementById('signInForm');

    // Desktop Slider
    if(signUpBtn && signInBtn) {
        signUpBtn.addEventListener('click', () => {
            container.classList.add("right-panel-active");
        });

        signInBtn.addEventListener('click', () => {
            container.classList.remove("right-panel-active");
        });
    }

    // Mobile Switchers
    window.switchToSignup = function() {
        signInForm.classList.remove('mobile-active');
        signUpForm.classList.add('mobile-active');
    }

    window.switchToLogin = function() {
        signUpForm.classList.remove('mobile-active');
        signInForm.classList.add('mobile-active');
    }
</script>

</body>
</html>
